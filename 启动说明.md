# æ€»æ‰¿åŒ…AIæ™ºèƒ½è¯„æµ‹ç³»ç»Ÿ - å¯åŠ¨æŒ‡å—

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
try3/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ backend_service1126.py  # ä¸»æœåŠ¡æ–‡ä»¶
â”‚   â”œâ”€â”€ app.py                  # Flaskå¯åŠ¨å…¥å£
â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ advanced_document_parser.py  # æ–‡æ¡£è§£æå™¨
â”‚   â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”‚   â””â”€â”€ start_service.py        # æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ start_frontend.py       # å‰ç«¯å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ config.js               # ç»Ÿä¸€é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ config-manager.html     # é…ç½®ç®¡ç†ç•Œé¢
â”‚   â””â”€â”€ project/                # å‰ç«¯é¡µé¢
â”‚       â”œâ”€â”€ frontend_improved.html    # é¡¹ç›®åˆ—è¡¨é¡µ
â”‚       â”œâ”€â”€ project-detail.html       # é¡¹ç›®è¯¦æƒ…é¡µ
â”‚       â””â”€â”€ ai_pingce_result.html     # è¯„æµ‹ç»“æœé¡µ
â”‚
â”œâ”€â”€ start_backend.sh            # Linux/Macåç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_frontend.sh           # Linux/Macå‰ç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_backend.bat           # Windowsåç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_frontend.bat          # Windowså‰ç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ .env                        # ç¯å¢ƒé…ç½®æ–‡ä»¶
â””â”€â”€ logs/                       # æ—¥å¿—ç›®å½•
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### Windowsç³»ç»Ÿ

#### æ–¹æ³•1ï¼šåŒå‡»å¯åŠ¨ï¼ˆæ¨èï¼‰
1. å¯åŠ¨åç«¯ï¼šåŒå‡» `start_backend.bat`
2. å¯åŠ¨å‰ç«¯ï¼šåŒå‡» `start_frontend.bat`

#### æ–¹æ³•2ï¼šå‘½ä»¤è¡Œå¯åŠ¨
```cmd
# å¯åŠ¨åç«¯æœåŠ¡
start_backend.bat

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼‰
start_frontend.bat
```

### Linux/Macç³»ç»Ÿ

```bash
# å¯åŠ¨åç«¯æœåŠ¡
./start_backend.sh

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼‰
./start_frontend.sh
```

---

## ğŸ“¡ æœåŠ¡åœ°å€

### åç«¯æœåŠ¡
- **æœåŠ¡åœ°å€**: http://localhost:5000
- **APIæ–‡æ¡£**: http://localhost:5000/api/projects
- **å¥åº·æ£€æŸ¥**: http://localhost:5000/api/health

### å‰ç«¯æœåŠ¡
- **æœåŠ¡åœ°å€**: http://localhost:8100
- **é¡¹ç›®åˆ—è¡¨**: http://localhost:8100/project/frontend_improved.html
- **é…ç½®ç®¡ç†**: http://localhost:8100/config-manager.html
- **é¡¹ç›®è¯¦æƒ…**: http://localhost:8100/project/project-detail.html?project_id=YOUR_PROJECT_ID
- **è¯„æµ‹ç»“æœ**: http://localhost:8100/project/ai_pingce_result.html?project_id=YOUR_PROJECT_ID&task_id=YOUR_TASK_ID

---

## âš™ï¸ é…ç½®è¯´æ˜

### 1. ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆ.envï¼‰

é¦–æ¬¡è¿è¡Œå‰ï¼Œè¯·åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# Windows
copy .env.sqlserver.example .env

# Linux/Mac
cp .env.sqlserver.example .env
```

ç„¶åç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å…³é”®å‚æ•°ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_TYPE=mssql
DB_HOST=10.1.24.73
DB_PORT=1433
DB_USER=sys_ai
DB_PASSWORD=Cjy@2025Ai
DB_NAME=ai_doc_review

# AIé…ç½®
ZHIPU_API_KEY=your_api_key_here
ZHIPU_BASE_URL=https://open.bigmodel.cn/api/anthropic
ZHIPU_MODEL=glm-4.5

# ç³»ç»Ÿé…ç½®
MAX_CONCURRENT_PROJECTS=3
MAX_CONCURRENT_TASKS=2
```

### 2. å‰ç«¯é…ç½®

è®¿é—® http://localhost:8100/config-manager.html è¿›è¡Œå¯è§†åŒ–é…ç½®ç®¡ç†ã€‚

---

## ğŸ”§ å¯åŠ¨æ­¥éª¤è¯¦è§£

### ç¬¬ä¸€æ¬¡å¯åŠ¨

1. **æ£€æŸ¥Pythonç¯å¢ƒ**
   ```bash
   python --version  # ç¡®ä¿Python 3.8+
   ```

2. **åˆ›å»ºé…ç½®æ–‡ä»¶**
   ```bash
   cp .env.sqlserver.example .env
   # ç¼–è¾‘.envé…ç½®æ•°æ®åº“è¿æ¥
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   # å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ
   source .venv/bin/activate  # Linux/Mac
   .venv\Scripts\activate     # Windows

   # å®‰è£…ä¾èµ–
   pip install -r backend/requirements.txt
   ```

4. **å¯åŠ¨æœåŠ¡**
   ```bash
   # Windows
   start_backend.bat

   # Linux/Mac
   ./start_backend.sh
   ```

### æ—¥å¸¸å¯åŠ¨

ç›´æ¥åŒå‡»æˆ–è¿è¡Œå¯¹åº”çš„å¯åŠ¨è„šæœ¬å³å¯ã€‚

---

## ğŸ› ï¸ å¯åŠ¨è„šæœ¬è¯´æ˜

### start_backend.sh / start_backend.bat

**åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨æ£€æŸ¥Pythonç¯å¢ƒ
- âœ… è‡ªåŠ¨æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- âœ… æ£€æŸ¥.envé…ç½®æ–‡ä»¶
- âœ… è‡ªåŠ¨å®‰è£…ç¼ºå¤±çš„ä¾èµ–
- âœ… å¯åŠ¨Flaskåç«¯æœåŠ¡

**å‚æ•°**ï¼šæ— éœ€å‚æ•°ï¼Œç›´æ¥è¿è¡Œ

### start_frontend.sh / start_frontend.bat

**åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨æ£€æŸ¥Pythonç¯å¢ƒ
- âœ… å¯åŠ¨HTTPé™æ€æœåŠ¡å™¨
- âœ… è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

**å‚æ•°**ï¼šæ— éœ€å‚æ•°ï¼Œç›´æ¥è¿è¡Œ

---

## ğŸ“Š æ—¥å¿—è¯´æ˜

### åç«¯æ—¥å¿—
- **ä¸»æ—¥å¿—**: `logs/backend_service.log`
- **é”™è¯¯æ—¥å¿—**: `logs/backend_error.log`
- **æ—¥å¿—è½®è½¬**: å•æ–‡ä»¶æœ€å¤§10MBï¼Œä¿ç•™10ä¸ªå¤‡ä»½

### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆLinux/Macï¼‰
tail -f logs/backend_service.log

# Windows PowerShell
Get-Content logs\backend_service.log -Wait
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨
**é—®é¢˜**: `Address already in use`

**è§£å†³**:
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
# Windows
netstat -ano | findstr :5000

# Linux/Mac
lsof -i :5000

# ä¿®æ”¹ç«¯å£ï¼ˆç¼–è¾‘backend/app.pyæˆ–backend_service1126.pyï¼‰
```

### 2. Pythonä¾èµ–æœªå®‰è£…
**é—®é¢˜**: `ModuleNotFoundError: No module named 'flask'`

**è§£å†³**:
```bash
pip install -r backend/requirements.txt
```

### 3. æ•°æ®åº“è¿æ¥å¤±è´¥
**é—®é¢˜**: `Connection refused`

**è§£å†³**:
- æ£€æŸ¥ `.env` é…ç½®
- ç¡®è®¤æ•°æ®åº“æœåŠ¡è¿è¡Œä¸­
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™

### 4. .envæ–‡ä»¶ä¸å­˜åœ¨
**é—®é¢˜**: `æœªæ‰¾åˆ°.envé…ç½®æ–‡ä»¶`

**è§£å†³**:
```bash
cp .env.sqlserver.example .env
# ç„¶åç¼–è¾‘.envæ–‡ä»¶
```

---

## ğŸ¯ å¼€å‘æ¨¡å¼

### å¯ç”¨è°ƒè¯•æ¨¡å¼

åç«¯é»˜è®¤å¯ç”¨ `debug=True`ï¼Œä¿®æ”¹ä»£ç åè‡ªåŠ¨é‡è½½ã€‚

### ä¿®æ”¹ç«¯å£

**åç«¯ç«¯å£** (é»˜è®¤5000):
- ç¼–è¾‘ `backend/app.py` ç¬¬47-52è¡Œ

**å‰ç«¯ç«¯å£** (é»˜è®¤8100):
- ç¼–è¾‘ `frontend/start_frontend.py` ç¬¬9è¡Œ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. æ—¥å¿—æ–‡ä»¶ï¼š`logs/backend_service.log`
2. é”™è¯¯æ—¥å¿—ï¼š`logs/backend_error.log`
3. APIæ–‡æ¡£ï¼šhttp://localhost:5000/api/projects

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### åç«¯æœåŠ¡
- âœ… RESTful APIè®¾è®¡
- âœ… å¤šæ•°æ®åº“æ”¯æŒï¼ˆSQL Server/MySQL/PostgreSQL/SQLiteï¼‰
- âœ… æ™ºèƒ½æ–‡æ¡£è§£æï¼ˆPDF/Word/Excel/OCRï¼‰
- âœ… AIæ™ºèƒ½è¯„æµ‹ï¼ˆæ™ºè°±AIï¼‰
- âœ… ä»»åŠ¡å¹¶å‘æ§åˆ¶
- âœ… å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿ

### å‰ç«¯æœåŠ¡
- âœ… å“åº”å¼è®¾è®¡
- âœ… ç»Ÿä¸€é…ç½®ç®¡ç†
- âœ… å®æ—¶çŠ¶æ€æ›´æ–°
- âœ… å¯è§†åŒ–æ•°æ®å±•ç¤º
- âœ… ç®€æ´æ˜“ç”¨ç•Œé¢

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
